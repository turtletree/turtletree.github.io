[{"content":"NodePort\nRange: 30000 - 32767 ClusterIP\nLoadBalancer\napiVersion: v1\nkind: Service\nmetadata:\nname: myapp-service spec:\ntype: NodePort/ClusterIP (default)\nports:\n-targetPort: 80 \u0026mdash; if not specify, gonna be the same as port port: 80 \u0026mdash; only required field nodePort: 30008 \u0026mdash; any number in the valid range, if not specify, it\u0026rsquo;s going to be random selector:\napp: myapp\ntype: front-end\nk create -f service-def.yaml\nAccess with curl http://192.168.1.2:30008\n","permalink":"https://turtletree.github.io/pages/kubernetes/service/","summary":"NodePort\nRange: 30000 - 32767 ClusterIP\nLoadBalancer\napiVersion: v1\nkind: Service\nmetadata:\nname: myapp-service spec:\ntype: NodePort/ClusterIP (default)\nports:\n-targetPort: 80 \u0026mdash; if not specify, gonna be the same as port port: 80 \u0026mdash; only required field nodePort: 30008 \u0026mdash; any number in the valid range, if not specify, it\u0026rsquo;s going to be random selector:\napp: myapp\ntype: front-end\nk create -f service-def.yaml\nAccess with curl http://192.168.1.2:30008","title":"kubernetes/service"},{"content":"Taint -\u0026gt; Node\nTolerant -\u0026gt; Pod\nDefines if we are allowed to place a certain pod to a certain node\nIt tells the NODE if he should accept a pod, it doesn\u0026rsquo;t not guarantee that typed of pods will definitely end up in this node\nTaint a Node k taint nodes node-name key-value:taint-effect\ntaint-effect defines what happens to the PODs that DO NOT TOLERATE this taint\nNoSchedule: won\u0026rsquo;t place this pod on this node\nPreferNoScheule: will try not to place but no guarantee\nNoExecute: won\u0026rsquo;t place this pod, and evict any similar existing pods already on the node that doesn\u0026rsquo;t tolerate\nGive PODs Tolerations spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx ports: -containerPort: 8080\ntolerations:\nkey: \u0026ldquo;app\u0026rdquo; operator: \u0026ldquo;Equal\u0026rdquo; value: \u0026ldquo;blue\u0026rdquo;\neffect: \u0026ldquo;NoSchedule\u0026rdquo;\n","permalink":"https://turtletree.github.io/pages/kubernetes/taint/","summary":"Taint -\u0026gt; Node\nTolerant -\u0026gt; Pod\nDefines if we are allowed to place a certain pod to a certain node\nIt tells the NODE if he should accept a pod, it doesn\u0026rsquo;t not guarantee that typed of pods will definitely end up in this node\nTaint a Node k taint nodes node-name key-value:taint-effect\ntaint-effect defines what happens to the PODs that DO NOT TOLERATE this taint\nNoSchedule: won\u0026rsquo;t place this pod on this node","title":"kubernetes/taint"},{"content":"apiVersion: v1,\nkind: Pod/ReplicaSet/Deployment/Service\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\nsecurityContext:\nrunAsUser: 1000 \u0026ndash; userId to run the pod serviceAccountName: dashboard-sa\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx ports: -containerPort: 8080\nenvFrom:\nsecretRef: name: mysecret securityContext: \u0026ndash; specify under container instead of pod\nrunAsUser: 1000\ncapabilities: \u0026ndash; capabilities are only supported at the container level and not at the POD level\nadd: [\u0026ldquo;MAC_ADMIN] k get pods --selector env=dev get the pods that has the label env set to dev\nk get all --selector env=prod --selector bu=finance --selector tier=frontend\n","permalink":"https://turtletree.github.io/pages/kubernetes/pod/","summary":"apiVersion: v1,\nkind: Pod/ReplicaSet/Deployment/Service\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\nsecurityContext:\nrunAsUser: 1000 \u0026ndash; userId to run the pod serviceAccountName: dashboard-sa\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx ports: -containerPort: 8080\nenvFrom:\nsecretRef: name: mysecret securityContext: \u0026ndash; specify under container instead of pod\nrunAsUser: 1000","title":"kubernetes/pod"},{"content":"k create secret generic \\ mysecret --from-literal=DB_Host=mysql --from-literal=DB_User=root --from-literal=DB_Password=password k create secret generic \\ mysecret --from-file=mysecret.properties k get secret mysecret -o yaml will show the hashed values\nsecret-data.yaml apiVersion: v1\nkind: Secret\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: app-secret\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp data \u0026ndash; similar to ConfigMaps\nDB_Host: mysql -\u0026gt; encoding with echo -n 'mysql' | base64\nDB_User:\nDB_Password:\nInject to a kubernetes/pod apiVersion: v1,\nkind: Pod/ReplicaSet/Deployment/Service\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx ports:\ncontainerPort: 8080 envFrom:\nsecretRef: name: mysecret ","permalink":"https://turtletree.github.io/pages/kubernetes/secret/","summary":"k create secret generic \\ mysecret --from-literal=DB_Host=mysql --from-literal=DB_User=root --from-literal=DB_Password=password k create secret generic \\ mysecret --from-file=mysecret.properties k get secret mysecret -o yaml will show the hashed values\nsecret-data.yaml apiVersion: v1\nkind: Secret\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: app-secret\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp data \u0026ndash; similar to ConfigMaps\nDB_Host: mysql -\u0026gt; encoding with echo -n 'mysql' | base64\nDB_User:\nDB_Password:\nInject to a kubernetes/pod apiVersion: v1,","title":"kubernetes/secret"},{"content":"k create serviceaccount dashboard-sa\nUpon creation, the SA generates a toke, then generates a Secret and stored the token in the Secret\nk describe secret dashboard-sa-token-kbbbm\nEach namespace has its own default sa\nk exec -it my-kubernetes-dashboard ls /var/run/serets/kubernetes.io/serviceaccount\nk exec -it my-kubernetes-dashboard cat /var/run/serets/kubernetes.io/serviceaccount/token to view the token eyJ\u0026hellip;\ndecode the above token jq -R 'split(\u0026quot;.\u0026quot;) | select(length \u0026gt; 0) | .[0],.[1] | @base64 | fromjson' \u0026lt;\u0026lt;\u0026lt; eyJ...\n","permalink":"https://turtletree.github.io/pages/kubernetes/serviceaccount/","summary":"k create serviceaccount dashboard-sa\nUpon creation, the SA generates a toke, then generates a Secret and stored the token in the Secret\nk describe secret dashboard-sa-token-kbbbm\nEach namespace has its own default sa\nk exec -it my-kubernetes-dashboard ls /var/run/serets/kubernetes.io/serviceaccount\nk exec -it my-kubernetes-dashboard cat /var/run/serets/kubernetes.io/serviceaccount/token to view the token eyJ\u0026hellip;\ndecode the above token jq -R 'split(\u0026quot;.\u0026quot;) | select(length \u0026gt; 0) | .[0],.[1] | @base64 | fromjson' \u0026lt;\u0026lt;\u0026lt; eyJ...","title":"kubernetes/serviceaccount"},{"content":"Component Structures Cluster\nNode\nPod: single instance of an application\nContainer Pod2:\nContainer More pods to scale up\nNode2\nPod: can have multiple containers but mostly different types, share same storage, fate, etc. But it is a RARE situation.\nContainer A\nContainer helper\nKubectl Cheat Sheet k run nginx --image nginx --n devNamespace (downloaded from Docker hub, public registry)\nkubectl run nginx --image=nginx --dry-run=client -o yaml\nk get pods list all pods available in the current namespace\nk get pods --all-namespaces\nk describe pod myapp-pod more info\n--dry-run : By default as soon as the command is run, the resource will be created. If you simply want to test your command , use theÂ --dry-run=client option. This will not create the resource, instead, tell you whether the resource can be created and if your command is right.\nkubectl get pod \u0026lt;pod-name\u0026gt; -o yaml \u0026gt;Â pod-definition.yaml extract the definition to a file\nkubectl edit pod \u0026lt;pod-name\u0026gt; to edit pod properties\nScale up\nk replace -f replicaset-def.yml after updating the yml\nk scale --replicas=6 -f replicaset-def.yml but this won\u0026rsquo;t update the yml file\nk scale --replicas=6 replicaset myapp-replicaset\nk delete replicaset myapp-replicaset \u0026ndash;\u0026gt; also deletes all underlying PODs\nk replace -f replicaset-def.yml update\nk create -f rc-definition.yml\nk get replicationcontroller\nk get all\n-o json Output a JSON formatted API object.\n-o name Print only the resource name and nothing else.\n-o wide Output in the plain-text format with any additional information.\n-o yaml Output a YAML formatted API object.\nk get pods --namespace=somenamespace\nkubectl create deployment --image=nginx nginx\nkubectl create deployment --image=nginx nginx --dry-run -o yaml\nk rollout status deployment/myapp-deployment\nk rollout history deployment/myapp-deployment\nYAML Pod as an example top/root level fields \u0026ndash; required\napiVersion: v1,\nkind: Pod/ReplicaSet/Deployment/Service\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx command \u0026ndash;\u0026gt; corresponding to Docker ENTRYPOINT\nargs \u0026ndash;\u0026gt; corresponding to Docker CMD\nReplica Set Replication Controller vs Replica Set RC: can scale up to different nodes, older term\nRS: newer term\nYAML apiVersion: v1/ apps/v1\nkind: ReplicationController/ReplicaSet\nmetadata:\nname:\nlabels:\nspec:\ntemplate: \u0026ndash; for the pod, so can move the above yaml directly here. They\u0026rsquo;re nested now.\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp\ntype: frontend\nspec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx replicas: 3\nselector(required): (major differences between rc and rs)\nmatchLabels:\ntype: frontend Deployment a deployment can automatically create a ReplicaSet\nYAML apiVersion: apps/v1\nkind: Deployment\nmetadata:\nname:\nlabels:\nspec:\ntemplate: \u0026ndash; for the pod, so can move the above yaml directly here. They\u0026rsquo;re nested now.\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp\ntype: frontend\nspec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list\nname: nginx-container image: nginx replicas: 3\nselector(required): (major differences between rc and rs)\nmatchLabels:\ntype: frontend Namespace apiVersion: v1\nkind: Namespace\nmetadata:\nname:\nlabels:\nk create -f namespace-dev.yml\nk config set-context $(kubectl config current-context) --namespace=dev switch to dev env\nk get pods --all-namespaces\nTo access pods in another namespace: redis-db.dev.svc.cluster.local \u0026ndash;\u0026gt; serviceName.namespace.type.cluster.local\nConfigMap apiVersion: v1\nkind: ConfigMp\nmetadata:\nname: app-config data:\nkey: value\nanotherKey: another value\nConfigMap in Pods apiVersion: v1\nkind: Pod\nmetadata \u0026ndash; it\u0026rsquo;s a dictionary\nname: myapp-pod\nlabels: \u0026ndash; any kinda of k-v pairs where you see fit\napp: myapp spec: \u0026ndash; additional information about this obj, what\u0026rsquo;s inside this obj\ncontainers: \u0026ndash; list - name: simple-webapp-color image: simple-webapp-color ports: - containerPort: 8080 envFrom: - configMapRef: name: app-config \u0026lt;-----injection of the configMap + Up-to-date valid coupon codes for the CKAD exam: https://devopscube.com/kubernetes-certification-coupon/ ","permalink":"https://turtletree.github.io/pages/kubernetes/","summary":"Component Structures Cluster\nNode\nPod: single instance of an application\nContainer Pod2:\nContainer More pods to scale up\nNode2\nPod: can have multiple containers but mostly different types, share same storage, fate, etc. But it is a RARE situation.\nContainer A\nContainer helper\nKubectl Cheat Sheet k run nginx --image nginx --n devNamespace (downloaded from Docker hub, public registry)\nkubectl run nginx --image=nginx --dry-run=client -o yaml\nk get pods list all pods available in the current namespace","title":"kubernetes"},{"content":"It\u0026rsquo;s a nice day and we walked to Porter together in order to get my Lab work done.\nMorning sun shine is so overrated :/ it\u0026rsquo;s so bright and mighty, almost intrusive - it made me feel small - shamefully small.\nOn the other hand, sunset is a better time to be out there. You can look at the sun and don\u0026rsquo;t feel judged. It\u0026rsquo;s so tender and chill, almost non-exist - it made me feel small - comfortably small. poetic\n","permalink":"https://turtletree.github.io/pages/2022-09-28-wednesday/","summary":"It\u0026rsquo;s a nice day and we walked to Porter together in order to get my Lab work done.\nMorning sun shine is so overrated :/ it\u0026rsquo;s so bright and mighty, almost intrusive - it made me feel small - shamefully small.\nOn the other hand, sunset is a better time to be out there. You can look at the sun and don\u0026rsquo;t feel judged. It\u0026rsquo;s so tender and chill, almost non-exist - it made me feel small - comfortably small.","title":"2022-09-28 Wednesday"},{"content":"I went to my first Yelp Elite Event for a while in person. It\u0026rsquo;s a social event. Food was great. Drinks\u0026hellip; I don\u0026rsquo;t know much about. Met some girls to hang out with\u0026hellip; hopefully at the next event. Can we be friends? Not sure\u0026hellip; here is my official review for the event held at Colette Lounge\n","permalink":"https://turtletree.github.io/pages/2022-09-22-thursday/","summary":"I went to my first Yelp Elite Event for a while in person. It\u0026rsquo;s a social event. Food was great. Drinks\u0026hellip; I don\u0026rsquo;t know much about. Met some girls to hang out with\u0026hellip; hopefully at the next event. Can we be friends? Not sure\u0026hellip; here is my official review for the event held at Colette Lounge","title":"2022-09-22 Thursday"},{"content":"Shortcuts Useful shortcuts of Logseq Basics to begin with\nenter + tab creates sub lists, indent it (of course, just like any other MD app!)\ndouble enter (or shift + tab) goes back to parent list level\ncmd + shift + up/down moves the block up and down\ncmd + enter for TODO shortcut, the order is TODO/DOING/DONE if you keep clicking it\nshift + enter on page title it will be opened up on the right hand panel, able to edit at the same time\n** shift click** any block will open it on the right hand side\n/upload an asset is a nice tool to upload pdf\nAfter uploading an asset, adding ! in front of the []() will auto render the file, otherwise it will be a reference to the original file location\ntr/tl closes the right/left hand panels\ngh goes back to the home page\ntw makes the table view wider\ncmd + k to search\n*** ** to start a tick box\nGeneral knowledge of Logseq Basics investments this creates a new page of that, so same idea of \u0026ldquo;sending a task to me in the future\u0026rdquo; is basically creating a page on that date\nAnother way to creates a new page and it\u0026rsquo;s EXACTLY the same as above using hashtag #another\nCould use method 1 for in line references, method 2 for end of sentence category, or vice versa\nTry to use Logseq Basics as a journal and see if I can keep doing it every day\nAll the child tags inherited all the parent tags, in this case, investment will inherit Logseq Basics\nGraph/Database/Folder means the same thing, to begin with, we have our \u0026ldquo;notes\u0026rdquo; database on the upper left corver\nTask Management task management. Sep 30th, 2022 added a random task for that day, this sends this note/block to me in the future on that date\nThings to do\nTODO eat dinner at Oleana\nTODO book Dan\u0026rsquo;s birthday trip to VT\ntick box 1 tick box 2 a picture I found from our slack wellbeing channel\n","permalink":"https://turtletree.github.io/pages/2022-09-09-friday/","summary":"Shortcuts Useful shortcuts of Logseq Basics to begin with\nenter + tab creates sub lists, indent it (of course, just like any other MD app!)\ndouble enter (or shift + tab) goes back to parent list level\ncmd + shift + up/down moves the block up and down\ncmd + enter for TODO shortcut, the order is TODO/DOING/DONE if you keep clicking it\nshift + enter on page title it will be opened up on the right hand panel, able to edit at the same time","title":"2022-09-09 Friday"},{"content":"TODO When we have enough shortcuts, we should move them from the 9/9 page to here\nPlay with Admonitions Triggered by \u0026lt;\u0026gt; This is a quote This is a source This is a note This is a tip This is important This is caution This is pinned This is warning This is an example, looks very similar to just `` ","permalink":"https://turtletree.github.io/pages/logseq-basics/","summary":"TODO When we have enough shortcuts, we should move them from the 9/9 page to here\nPlay with Admonitions Triggered by \u0026lt;\u0026gt; This is a quote This is a source This is a note This is a tip This is important This is caution This is pinned This is warning This is an example, looks very similar to just `` ","title":"Logseq Basics"},{"content":"This is my 7 years\u0026rsquo; anniversary arriving at this continent. Every year at this time, I\u0026rsquo;d feel a little emotional about it. I don\u0026rsquo;t want to talk about the emotional stuff but some fun stuff.\nI always wish I do some ceremonial things on this special day. For this year, the most ceremonial thing I\u0026rsquo;ve done is that I got 3 correct answers for Jeopardy! This is quite some milestone for a foreigner like me. Looking back two three years when I first watched Jeopardy with my then boyfriend, I couldn\u0026rsquo;t even understand literally ANY question. Now I can get a wholesome 3 answers?! Give me five!!\nUpdate on 2022-10-27 Thursday:\nNow we watch Jeopardy way more often than before (recent favorite being Cris Pannullo, hell yeah attaboy) since I can understand more. The more I get involved, the more I feel like the person from the movie \u0026ldquo;Slumdog Millionaire\u0026rdquo;: each question/answer reminds me of a specific situation that happened in my life. Unlike many other contestants or audiences, I didn\u0026rsquo;t practice any of these questions, nor do I pick up these knowledge naturally in life (well I did for some of it\u0026hellip;). They came to me on a specific occasion that I had a special impression on - this is life as an immigrant - I rebuilt my memory and life in English, sharply from the day I stepped on this continent. ","permalink":"https://turtletree.github.io/pages/2022-08-10-wednesday/","summary":"This is my 7 years\u0026rsquo; anniversary arriving at this continent. Every year at this time, I\u0026rsquo;d feel a little emotional about it. I don\u0026rsquo;t want to talk about the emotional stuff but some fun stuff.\nI always wish I do some ceremonial things on this special day. For this year, the most ceremonial thing I\u0026rsquo;ve done is that I got 3 correct answers for Jeopardy! This is quite some milestone for a foreigner like me.","title":"2022-08-10 Wednesday"},{"content":"DOING ðŸ“² iPhone Photo Migration Project DONE Get a new job DONE Started new job on 2022-06-27 TODO Run Boston Distance Medley DONE 2022-04-16 5K 00:29:43\nDONE 2022-06-26 10K 1:03:26\nTODO 2022-11-13 Half marathon: very struggling so far\u0026hellip; give up ðŸ™ƒ\nDOING Visit another country after the green card is granted DONE Get green card\nTODO Cancun, Mexico in December\nDOING Build personal website TODO Ride \u0026gt;7 days on the snow DONE Mt. Sunapee on 2022-01-28\nDONE Mt. Sunapee on 2022-02-26, Saturday, too crowded\nDONE Breckenridge on 2022-03-28\nDONE Breckenridge on 2022-03-29\nDONE Breckenridge on 2022-03-30\nTODO 6?\nTODO 7?\nTODO Spend \u0026lt;$1000 CASH on clothes or skin cares DONE Hike \u0026gt;5 new mountains TODO Average \u0026gt;8000 steps over the year TODO Do a bikini competition Give up ðŸ™ƒ ","permalink":"https://turtletree.github.io/pages/-2022-annual-goals/","summary":"DOING ðŸ“² iPhone Photo Migration Project DONE Get a new job DONE Started new job on 2022-06-27 TODO Run Boston Distance Medley DONE 2022-04-16 5K 00:29:43\nDONE 2022-06-26 10K 1:03:26\nTODO 2022-11-13 Half marathon: very struggling so far\u0026hellip; give up ðŸ™ƒ\nDOING Visit another country after the green card is granted DONE Get green card\nTODO Cancun, Mexico in December\nDOING Build personal website TODO Ride \u0026gt;7 days on the snow DONE Mt.","title":"ðŸ”† 2022 Annual Goals"}]